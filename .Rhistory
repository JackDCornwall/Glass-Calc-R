source("~/University/PhD/Glass Calc R/SM_maths.R", echo=TRUE)
source("~/University/PhD/Code/Glass Calc R/Bulk Filtering/BulkFiltering_stage2_080724.R", echo=TRUE)
#clearing crap
rm(list=ls())
#setting wd
wd="C://Users/Jack/Documents/University/PhD/Code/Glass Calc R/Bulk Filtering/"
setwd(wd)
#importing external functions
source("C://Users/Jack/Documents/University/PhD/Code/Glass Calc R/Glass_Calc_Function.R")
#importing compositiopns in wt. fr.
comp_wt_temp <- read.csv("Stage1_export_050924.csv")
#clearing crap
rm(list=ls())
#setting wd
wd="C://Users/Jack/Documents/University/PhD/Code/Glass Calc R/Bulk Filtering/"
setwd(wd)
#importing external functions
source("C://Users/Jack/Documents/University/PhD/Code/Glass Calc R/Glass_Calc_Function.R")
#importing compositiopns in wt. fr.
comp_wt_temp <- read.csv("Test.csv")
#Running glass calc
data <- Glass_calc_func(comp_wt_temp)
#preparing export data
comp_wt <- data$comp_wt
comp_mol <- data$comp_mol
#transposing & correcting for filtering
comp_wt <- as.data.frame(t(comp_wt))
colnames(comp_wt) <- comp_wt[1,] #fixing colnames
comp_wt <- comp_wt[-1,]
comp_mol <- as.data.frame(t(comp_mol))
colnames(comp_mol) <- comp_mol[1,] #fixing colnames
comp_mol <- comp_mol[-1,]
View(comp_mol)
View(comp_wt)
View(data)
View(comp_mol)
View(comp_wt)
View(comp_wt)
#Applying filters
comp_wt <-comp_wt[comp_wt$SM_opt<0.11,]
View(comp_wt)
comp_wt <-comp_wt[comp_wt$SM_opt>-0.11,]
comp_wt <-comp_wt[comp_wt$DC<0.271,]
comp_wt <-comp_wt[comp_wt$DC>0.249,]
comp_mol <-comp_mol[comp_mol$SM_opt<0.11,]
comp_mol <-comp_mol[comp_mol$SM_opt>-0.11,]
comp_mol <-comp_mol[comp_mol$DC<0.2271,]
comp_mol <-comp_mol[comp_mol$DC>0.249,]
#Takes an input from BulkFiltering_stage1_060724.R and performs additional filtering
#clearing crap
rm(list=ls())
#setting wd
wd="C://Users/Jack/Documents/University/PhD/Code/Glass Calc R/Bulk Filtering/"
setwd(wd)
#importing external functions
source("C://Users/Jack/Documents/University/PhD/Code/Glass Calc R/Glass_Calc_Function.R")
#importing compositiopns in wt. fr.
comp_wt_temp <- read.csv("Test.csv")
#Running glass calc
data <- Glass_calc_func(comp_wt_temp)
#preparing export data
comp_wt <- data$comp_wt
comp_mol <- data$comp_mol
#transposing & correcting for filtering
comp_wt <- as.data.frame(t(comp_wt))
colnames(comp_wt) <- comp_wt[1,] #fixing colnames
comp_wt <- comp_wt[-1,]
comp_mol <- as.data.frame(t(comp_mol))
colnames(comp_mol) <- comp_mol[1,] #fixing colnames
comp_mol <- comp_mol[-1,]
#exporting data
write.csv(comp_wt, "comp_wt_export.csv", row.names = FALSE)
write.csv(comp_mol, "comp_mol_export.csv", row.names = FALSE)
#Applying filters
comp_wt <-comp_wt[comp_wt$SM_opt<0.11,]
comp_mol <-comp_mol[comp_mol$SM_opt<0.11,]
#Takes an input from BulkFiltering_stage1_060724.R and performs additional filtering
#clearing crap
rm(list=ls())
#setting wd
wd="C://Users/Jack/Documents/University/PhD/Code/Glass Calc R/Bulk Filtering/"
setwd(wd)
#importing external functions
source("C://Users/Jack/Documents/University/PhD/Code/Glass Calc R/Glass_Calc_Function.R")
#importing compositiopns in wt. fr.
comp_wt_temp <- read.csv("Test.csv")
#Running glass calc
data <- Glass_calc_func(comp_wt_temp)
#preparing export data
comp_wt <- data$comp_wt
comp_mol <- data$comp_mol
#transposing & correcting for filtering
comp_wt <- as.data.frame(t(comp_wt))
colnames(comp_wt) <- comp_wt[1,] #fixing colnames
comp_wt <- comp_wt[-1,]
comp_mol <- as.data.frame(t(comp_mol))
colnames(comp_mol) <- comp_mol[1,] #fixing colnames
comp_mol <- comp_mol[-1,]
View(comp_wt)
comp_wt$SM_opt
comp_wt$SM_opt[461]
class(comp_wt$SM_opt[461])
comp_wt <- data.frame(lapply(comp_wt, as.numeric))
class(comp_wt$SM_opt[461])
comp_wt$SM_opt[461]
#fixing annoying storing as character, at present I am unsure where this is happengin!
comp_wt <- data.frame(lapply(comp_wt, as.numeric))
comp_mol <- data.frame(lapply(comp_mol, as.numeric))
View(comp_wt)
#Applying filters
comp_wt <-comp_wt[comp_wt$SM_opt<0.11,]
comp_wt <-comp_wt[comp_wt$SM_opt>-0.11,]
comp_mol <-comp_mol[comp_mol$SM_opt<0.11,]
comp_mol <-comp_mol[comp_mol$SM_opt>-0.11,]
comp_wt <-comp_wt[comp_wt$DC<0.271,]
comp_mol <-comp_mol[comp_mol$DC<0.271,]
comp_wt <-comp_wt[comp_wt$DC>0.249,]
comp_mol <-comp_mol[comp_mol$DC>0.249,]
source("~/University/PhD/Code/Glass Calc R/Bulk Filtering/BulkFiltering_stage2_080724.R", echo=TRUE)
#clearing crap
rm(list=ls())
#setting wd
wd="C://Users/Jack/Documents/University/PhD/Code/Glass Calc R/Bulk Filtering/"
setwd(wd)
#importing extenal functions
source("C://Users/Jack/Documents/University/PhD/Code/Glass Calc R/wt2mol.R")
source("C://Users/Jack/Documents/University/PhD/Code/Glass Calc R/ND_calc.R")
source("C://Users/Jack/Documents/University/PhD/Code/Glass Calc R/OB_calc.R")
source("C://Users/Jack/Documents/University/PhD/Code/Glass Calc R/SM_calc.R")
source("C://Users/Jack/Documents/University/PhD/Code/Glass Calc R/DC_calc.R")
#importing data in wt%
comp_wt_temp <- read.csv("valid_combinations_050924.csv")
source("~/University/PhD/Code/Glass Calc R/Glass_Calc R.R", echo=TRUE)
